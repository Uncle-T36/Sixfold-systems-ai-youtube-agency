# üîí ENVIRONMENT VARIABLES SETUP

## Required Environment Variables

Create a `.env.local` file in the root directory with the following variables:

```bash
# =========================
# üîê API KEYS (Never commit these!)
# =========================

# GitHub API (for cloud backup)
GITHUB_TOKEN=your_github_personal_access_token_here

# YouTube Data API v3
YOUTUBE_API_KEY=your_youtube_api_key_here

# OpenAI API (for AI features)
OPENAI_API_KEY=your_openai_api_key_here

# =========================
# üåê APP CONFIGURATION
# =========================

# App URL (for CORS and security)
NEXT_PUBLIC_APP_URL=https://your-app.vercel.app

# Node environment
NODE_ENV=production

# =========================
# üõ°Ô∏è SECURITY
# =========================

# Session secret (generate with: openssl rand -base64 32)
SESSION_SECRET=your_random_secret_key_here

# CSRF secret (generate with: openssl rand -base64 32)
CSRF_SECRET=your_csrf_secret_here

# Encryption key (generate with: openssl rand -hex 32)
ENCRYPTION_KEY=your_encryption_key_here

# =========================
# üìä RATE LIMITING
# =========================

# Requests per minute per IP
RATE_LIMIT_MAX_REQUESTS=100

# Rate limit window (milliseconds)
RATE_LIMIT_WINDOW_MS=60000

# Block duration for excessive requests (milliseconds)
RATE_LIMIT_BLOCK_DURATION=3600000

# =========================
# üîí ALLOWED ORIGINS (for CORS)
# =========================

ALLOWED_ORIGINS=https://your-app.vercel.app,http://localhost:3000,http://localhost:3001
```

## How to Generate Secure Keys

### On Windows (PowerShell):
```powershell
# Generate random base64 key
-join ((48..57) + (65..90) + (97..122) | Get-Random -Count 32 | ForEach-Object {[char]$_})

# Generate hex key
-join ((0..9) + ('a'..'f') | Get-Random -Count 64)
```

### On Linux/Mac:
```bash
# Generate base64 key
openssl rand -base64 32

# Generate hex key
openssl rand -hex 32
```

## Vercel Deployment

Add these environment variables in your Vercel dashboard:
1. Go to your project settings
2. Navigate to "Environment Variables"
3. Add each variable with its value
4. Select environments: Production, Preview, Development

## Security Best Practices

1. ‚úÖ **Never commit `.env.local` to git** (already in .gitignore)
2. ‚úÖ **Rotate keys every 90 days**
3. ‚úÖ **Use different keys for dev/staging/production**
4. ‚úÖ **Restrict API key permissions** (YouTube API: read-only, GitHub: repo scope only)
5. ‚úÖ **Monitor API usage** for unusual activity
6. ‚úÖ **Store backup keys** in a secure password manager

## Accessing Environment Variables

### Server-side (API routes, getServerSideProps):
```typescript
const apiKey = process.env.YOUTUBE_API_KEY;
```

### Client-side (must be prefixed with NEXT_PUBLIC_):
```typescript
const appUrl = process.env.NEXT_PUBLIC_APP_URL;
```

### Using the env manager:
```typescript
import { env } from './lib/security';

const apiEndpoint = env.getAPIEndpoint('videos');
const isProduction = env.isProduction();
```
